# Minterest PWA Setup Guide

This project is now configured as a Progressive Web App (PWA) with offline support, IndexedDB storage, and shadcn/ui components.

## Features Implemented

### 1. **PWA Configuration**
- ✅ Next.js PWA using `@ducanh2912/next-pwa`
- ✅ Service Worker for offline caching
- ✅ Web App Manifest (`/public/manifest.json`)
- ✅ Installable on mobile and desktop
- ✅ Offline-first architecture

### 2. **IndexedDB Integration**
- ✅ `idb` library for IndexedDB operations
- ✅ Database utility functions in `/lib/db.ts`
- ✅ CRUD operations for notes
- ✅ Persistent storage across sessions

### 3. **Shadcn/ui Components**
- ✅ Installed via CLI: `npx shadcn@latest init`
- ✅ Components added: Button, Card, Input
- ✅ Fully typed with TypeScript
- ✅ Tailwind CSS v4 integration

## Project Structure

```
minterest/
├── app/
│   ├── demo/
│   │   └── page.tsx          # PWA demo with IndexedDB
│   ├── layout.tsx             # Root layout with PWA meta tags
│   └── page.tsx               # Home page
├── components/
│   └── ui/                    # Shadcn components
│       ├── button.tsx
│       ├── card.tsx
│       └── input.tsx
├── lib/
│   ├── db.ts                  # IndexedDB utilities
│   └── utils.ts               # Shadcn utilities
├── public/
│   ├── manifest.json          # PWA manifest
│   ├── icon-192x192.png       # PWA icon (192x192)
│   └── icon-512x512.png       # PWA icon (512x512)
└── next.config.ts             # Next.js config with PWA

```

## Getting Started

### 1. Install Dependencies
```bash
npm install
```

### 2. Run Development Server
```bash
npm run dev
```

### 3. Build for Production
```bash
npm run build
npm start
```

## Testing PWA Features

### Test Offline Mode
1. Open the app in your browser
2. Navigate to `/demo`
3. Open DevTools → Network tab
4. Select "Offline" mode
5. Try creating and viewing notes - they should work offline!

### Test Installation
1. Open the app in Chrome/Edge
2. Look for the install icon in the address bar
3. Click to install the app
4. The app will open as a standalone application

### Test IndexedDB
1. Navigate to `/demo`
2. Create some notes
3. Open DevTools → Application → IndexedDB
4. View the `minterest-db` database and `notes` store
5. Close and reopen the browser - notes persist!

## PWA Configuration Details

### Service Worker
- Automatically generated by `@ducanh2912/next-pwa`
- Caches static assets and API responses
- Enables offline functionality
- Located in `/public/sw.js` (generated on build)

### Manifest Configuration
```json
{
  "name": "Minterest PWA",
  "short_name": "Minterest",
  "display": "standalone",
  "start_url": "/",
  "background_color": "#ffffff",
  "theme_color": "#000000"
}
```

### IndexedDB Schema
```typescript
interface Note {
  id?: number;
  title: string;
  content: string;
  createdAt: number;
  updatedAt: number;
}
```

## Available Scripts

- `npm run dev` - Start development server with Turbopack
- `npm run build` - Build for production
- `npm start` - Start production server
- `npm run lint` - Run ESLint

## Adding More Shadcn Components

```bash
# List all available components
npx shadcn@latest add

# Add specific components
npx shadcn@latest add dialog
npx shadcn@latest add toast
npx shadcn@latest add form
```

## Customizing PWA

### Change App Name
Edit `/public/manifest.json`:
```json
{
  "name": "Your App Name",
  "short_name": "App"
}
```

### Change Theme Colors
Edit `/public/manifest.json` and `/app/layout.tsx`:
```json
{
  "theme_color": "#your-color",
  "background_color": "#your-color"
}
```

### Add Custom Icons
Replace the placeholder icons in `/public/`:
- `icon-192x192.png` (192x192 pixels)
- `icon-512x512.png` (512x512 pixels)

## Browser Support

- ✅ Chrome/Edge (Desktop & Mobile)
- ✅ Firefox (Desktop & Mobile)
- ✅ Safari (iOS 11.3+)
- ✅ Samsung Internet

## Troubleshooting

### Service Worker Not Updating
1. Clear browser cache
2. Unregister service worker in DevTools
3. Rebuild the app: `npm run build`

### IndexedDB Not Working
1. Check browser console for errors
2. Ensure you're not in private/incognito mode
3. Check browser storage quota

### PWA Not Installable
1. Ensure you're using HTTPS (or localhost)
2. Check manifest.json is accessible
3. Verify icons exist and are valid

## Next Steps

1. **Add Authentication**: Integrate user authentication
2. **Sync Data**: Add background sync for offline changes
3. **Push Notifications**: Implement web push notifications
4. **More Components**: Add more shadcn/ui components
5. **Custom Icons**: Replace placeholder icons with real ones

## Resources

- [Next.js PWA Documentation](https://github.com/DuCanhGH/next-pwa)
- [IndexedDB API](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API)
- [Shadcn/ui Documentation](https://ui.shadcn.com/)
- [PWA Best Practices](https://web.dev/progressive-web-apps/)
